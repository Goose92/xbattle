<!DOCTYPE html>
<head>
    <title>Hex</title>
    <script src="hexagon.js"></script>
</head>
<body>
<canvas id="HexCanvas" width="1000" height="700"></canvas>
<script>

    const TailleGrilleRows=2;
    const TailleGrilleCols=2;
    const NiveauMax=30;

    var Case = {
        Niveau: 50,
        Proprietaire:0,
        Altitude:1,
        HD: false,
        H : false,
        HG:false,
        BG:false,
        B:false,
        BD:false
    };

    // Initialisation du tableau du jeu
    var TableauGrille = new Array(TailleGrilleRows);
    for (var i = 0; i < TailleGrilleRows; i++)
    {
        TableauGrille[i] = new Array(TailleGrilleCols);
        for (var j=0;j<TailleGrilleCols;j++)
        {
            var Case = new Object();
            Case.Niveau = Math.floor(Math.random() * 100);
            Case.Proprietaire = 0;
            Case.Altitude=1;
            Case.HD =false;
            Case.H = false;
            Case.HG=false;
            Case.BG=false;
            Case.B=false;
            Case.BD=false;

            TableauGrille[i][j] = Case;
            TableauGrille[i][j].Niveau=Math.floor(Math.random() * 100);
        }
    }

    var hexagonGrid = new HexagonGrid("HexCanvas", 50);
    hexagonGrid.affichageCasesGrille(TailleGrilleRows, TailleGrilleCols, 20, 20);

    function principale(){
        setTimeout(principale,100); /* rappel aprÃ¨s 2 secondes = 2000 millisecondes */
        for (var i = 0; i < TailleGrilleRows; i++)
        {
            for (var j=0;j<TailleGrilleCols;j++)
            {
                if ( TableauGrille[i][j].Niveau >=100 ){
                    TableauGrille[i][j].Niveau = Math.floor(Math.random() * 100);
                }
                else {
                    TableauGrille[i][j].Niveau = TableauGrille[i][j].Niveau + 1;
                }
            }
        }
        hexagonGrid.affichageCasesGrille(TailleGrilleRows, TailleGrilleCols, 20, 20);
        hexagonGrid.affichageNiveauGrille(TailleGrilleRows, TailleGrilleCols, 20, 20);

    }
    principale();
</script>

</body>

